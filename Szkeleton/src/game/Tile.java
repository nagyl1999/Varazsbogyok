package game;

/*

  Generated by StarUML(tm) Java Add-In

  @ Project : Varazsbogyok
  @ File Name : game.Tile.java
  @ Date : 2022. 03. 23.
  @ Author : varazsbogyok

*/

import entity.Virologist;
import inventory.IInventoryHolder;
import inventory.NotEnoughSpaceException;

import java.io.Serializable;
import java.util.ArrayList;

import inventory.Inventory;

/**
 * Mező ősosztály
 */
public abstract class Tile implements IInventoryHolder, Serializable {
    /**
     * A mezőn tartózkodó virológusok
     */
    protected ArrayList<Virologist> virologists;
    /**
     * A mező szomszédai
     */
    protected ArrayList<Tile> neighbours;
    protected Inventory inventory;
    private int inventorySize = 3;

    /**
     * Konstruktor
     */
    public Tile() {
        virologists = new ArrayList<Virologist>();
        neighbours = new ArrayList<Tile>();
        inventory = new Inventory(inventorySize);
        try {
            fillInventory();
        } catch (Exception ignore) {
        }
    }

    /**
     * Getter - szomszédok
     */
    public ArrayList<Tile> getNeighbours() {
        return neighbours;
    }

    /**
     * Getter - virológusok
     */
    public ArrayList<Virologist> getVirologist() {
        return virologists;
    }

    /**
     * Virológus hozzáadása a mezőhöz
     */
    public void addVirologist(Virologist v) {
        virologists.add(v);
        v.setTile(this);
    }

    /**
     * Virológus törlése a mezőről
     */
    public void removeVirologist(Virologist v) {
        virologists.remove(v);
    }

    /**
     * Szomszéd hozzáadása
     */
    public void addNeighbour(Tile t) {
        neighbours.add(t);
    }

    /**
     * A virológus itt fog tudni felvenni egy mezőn található dolgot.
     */
    public abstract void interactedWith(Virologist v) throws NotEnoughSpaceException;

    /**itt töltjük meg az adott mező inventoryját véletlenszerű dolgokkal.*/
    public abstract void fillInventory() throws NotEnoughSpaceException;

}
